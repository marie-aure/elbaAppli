<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>Liste des droits</title>
	<link
		href="${facesContext.externalContext.requestContextPath}/css/main.css"
		rel="stylesheet" type="text/css" />
</h:head>
<h:body>
	<ui:insert>
		<ui:include src="/template/headerTemplate.xhtml"></ui:include>
	</ui:insert>
	<div class="main">
		<ui:insert>
			<ui:include src="/template/titreTemplate.xhtml">
				<ui:param name="titre" value="Liste des droits" />
			</ui:include>
		</ui:insert>

		<table>
			<thead>
				<th>Catégorie</th>
				<th>Libellé</th>
				<th>Précisions</th>
				<th>Commentaire</th>
				<th>Action</th>
			</thead>
			<c:forEach var="dro" items="${SyntheseDroitsMB.mDroits}">
				<tr>
					<td>${dro.key.categorie}</td>
					<td>${dro.key.libelle}</td>
					<td>${dro.key.precisions}</td>
					<td>${dro.key.commentaire}</td>
					<td><h:form><h:commandButton type="Submit" value="Créer"
				action="${SyntheseDroitsMB.creerLiaisonDRCL(dro.key.id)}" /></h:form></td>
				</tr>
			</c:forEach>
		</table>

		<h:form>
			Catégorie : <h:inputText value="${SyntheseDroitsMB.droit.categorie}" />
			Libellé : <h:inputText value="${SyntheseDroitsMB.droit.libelle}" />
			Précisions : <h:inputText
				value="${SyntheseDroitsMB.droit.precisions}" />
			Commentaire : <h:inputText
				value="${SyntheseDroitsMB.droit.commentaire}" />
			<h:commandButton type="Submit" value="Créer"
				action="${SyntheseDroitsMB.creerDroit()}" />
		</h:form>

		${SyntheseDroitsMB.message}

	</div>
</h:body>
</html>
