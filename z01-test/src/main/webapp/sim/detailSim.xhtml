<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:uj="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>Détail Sim</title>
	<link type="text/css" rel="stylesheet" href="../css/main.css" />
</h:head>
<h:body>

	<ui:insert>
		<ui:include src="/template/headerTemplate.xhtml"></ui:include>
	</ui:insert>
	<div class="main">
		<ui:insert>
			<ui:include src="/template/titreTemplate.xhtml">
				<ui:param name="titre"
					value="${DetailSimMB.lsitr.sim.prenom} ${DetailSimMB.lsitr.sim.nom}" />
			</ui:include>
		</ui:insert>

		<table class="starterTab">
			<col width="500px" />
			<col width="500px" />
			<tr>
				<td>Nom :</td>
				<td>#{DetailSimMB.lsitr.sim.nom}</td>
			</tr>
			<tr>
				<td>Prénom :</td>
				<td>#{DetailSimMB.lsitr.sim.prenom}</td>
			</tr>
			<tr>
				<td>Sexe :</td>
				<td>#{DetailSimMB.lsitr.sim.sexe.genre}</td>
			</tr>
			<tr>
				<td>Espèce :</td>
				<td>#{DetailSimMB.lsitr.sim.espece.espece}</td>
			</tr>
			<tr>
				<td>Orientation :</td>
				<td>#{DetailSimMB.lsitr.sim.orientation.orientation}</td>
			</tr>
			<tr>
				<td>Couple :</td>
				<td><c:choose>
						<c:when
							test="#{DetailSimMB.lsitr.sim.couple != null and DetailSimMB.lsitr.sim.marie == true}">#{DetailSimMB.lsitr.sim.couple.nom} #{DetailSimMB.lsitr.sim.couple.prenom}</c:when>
						<c:when
							test="#{DetailSimMB.lsitr.sim.couple != null and DetailSimMB.lsitr.sim.marie == false}">Fiancé : #{DetailSimMB.lsitr.sim.couple.nom} #{DetailSimMB.lsitr.sim.couple.prenom}</c:when>
						<c:otherwise>Célibataire</c:otherwise>
					</c:choose></td>
			</tr>
			<c:if
				test="#{DetailSimMB.lsitr.sim.getClass().getSimpleName() == 'Starter'}">
				<tr>
					<td>Peau :</td>
					<td>#{DetailSimMB.lsitr.sim.peau}</td>
				</tr>
				<tr>
					<td>Poids :</td>
					<td>#{DetailSimMB.lsitr.sim.poids}</td>
				</tr>
				<tr>
					<td>Muscle :</td>
					<td>#{DetailSimMB.lsitr.sim.muscle}</td>
				</tr>
				<tr>
					<td>Poitrine :</td>
					<td>#{DetailSimMB.lsitr.sim.poitrine}</td>
				</tr>
				<tr>
					<td>Couleur des cheveux :</td>
					<td>#{DetailSimMB.lsitr.sim.cheveux}</td>
				</tr>
				<tr>
					<td>Visage :</td>
					<td>#{DetailSimMB.lsitr.sim.visage}</td>
				</tr>
				<tr>
					<td>Couleur des yeux :</td>
					<td>#{DetailSimMB.lsitr.sim.couleurYeux}</td>
				</tr>
				<tr>
					<td>Yeux :</td>
					<td>#{DetailSimMB.lsitr.sim.yeux}</td>
				</tr>
				<tr>
					<td>Nez :</td>
					<td>#{DetailSimMB.lsitr.sim.nez}</td>
				</tr>
				<tr>
					<td>Bouche :</td>
					<td>#{DetailSimMB.lsitr.sim.bouche}</td>
				</tr>
				<tr>
					<td>Plat préféré :</td>
					<td>#{DetailSimMB.lsitr.sim.plat}</td>
				</tr>
				<tr>
					<td>Musique préférée :</td>
					<td>#{DetailSimMB.lsitr.sim.musique}</td>
				</tr>
				<tr>
					<td>Couleur préférée :</td>
					<td>#{DetailSimMB.lsitr.sim.couleur}</td>
				</tr>
				<tr>
					<td>Signe astrologique :</td>
					<td>#{DetailSimMB.lsitr.sim.signe}</td>
				</tr>
			</c:if>
			<tr>
				<td>Souhait à long terme :</td>
				<td>#{DetailSimMB.lsitr.sim.souhait.libelle}</td>
			</tr>
			<tr>
				<td>Trait 1 :</td>
				<td>#{DetailSimMB.lsitr.trait1.libelle}</td>
			</tr>
			<tr>
				<td>Trait 2 :</td>
				<td>#{DetailSimMB.lsitr.trait2.libelle}</td>
			</tr>
			<tr>
				<td>Trait 3 :</td>
				<td>#{DetailSimMB.lsitr.trait3.libelle}</td>
			</tr>
			<tr>
				<td>Trait 4 :</td>
				<td>#{DetailSimMB.lsitr.trait4.libelle}</td>
			</tr>
			<tr>
				<td>Trait 5 :</td>
				<td>#{DetailSimMB.lsitr.trait5.libelle}</td>
			</tr>
		</table>

		Enfants :
		<c:if test="#{DetailSimMB.enfants.size() == 0}">
			<br />Aucun enfant
		</c:if>
		<c:if test="#{DetailSimMB.enfants.size() != 0}">
			<table>
				<thead>
					<th>Nom</th>
					<th>Prénom</th>
					<th>Sexe</th>
					<th>Orientation</th>
					<th>Espèce</th>
					<th></th>
				</thead>
				<ui:repeat var="enf" value="${DetailSimMB.enfants}">
					<tr>
						<td>${enf.nom}</td>
						<td>${enf.prenom}</td>
						<td>${enf.sexe.genre}</td>
						<td>${enf.orientation.orientation}</td>
						<td>${enf.espece.espece}</td>
						<td><h:form>
								<h:commandButton type="Submit" value="Détails"
									action="${DetailSimMB.toDetailSim(enf.id)}" />
							</h:form></td>
					</tr>
				</ui:repeat>
			</table>
		</c:if>

		<br />Actions :
		<c:if
			test="#{DetailSimMB.lsitr.sim.couple != null and DetailSimMB.lsitr.sim.marie == false}">
			<h:form>
				<h:commandButton type="Submit" value="Se marier"
					action="${DetailSimMB.marierSim()}" />
			</h:form>
		</c:if>
		<h:form>
		<h:commandButton type="Submit" value="Créer un enfant"
			action="${DetailSimMB.toCreateChild()}" />
		</h:form>
	</div>
</h:body>
</html>
